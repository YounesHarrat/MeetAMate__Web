<div>
    <div width="50%" height="50%">
    <img class="container" src="{{jeu.backgroundPicture}}" height="100%" width="100%">
    </div>

    <!--Afficher soit l'un soit l'autre-->
    <button mat-raised-button color="warn" class="leaveCommunity" (click)="leaveCommunity(jeu)" >Quitter</button>
    <button mat-raised-button color="primary" class="joinCommunity" (click)="joinCommunity(jeu)" >Rejoindre</button>
</div>

<div class="centeredContainer">
  <button mat-raised-button color="warn" class="returnToCommunity" (click)="goBack()" >Retour</button>
</div>

<div class="leftContainer">
    <div>
        <button mat-raised-button color="primary" class="btnMenu" (click)="clickEvents()">Evenement</button>
    </div>
    <div>
        <button mat-raised-button color="primary" class="btnMenu" (click)="clickQuestions()">Questions</button>
    </div>
</div>


<div class="mainContainer">
    <div *ngIf="btnEventClick;else questions">
        <div class="cardBtnQuestion">
            <mat-accordion>
                <mat-expansion-panel hideToggle>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                        <div>
                            <p class="labelBtn">
                                Creer un évènement
                              </p>
                        </div>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                    <mat-panel-description>
                        <div class="divEvent">
                            <p>Titre :</p>
                            <input type="text" size="40" #titre>
                        </div> <br>
                        <div>
                            <p>Date :</p>
                            <input type="date" #dates>
                        </div>
                        <div>
                            <p>Heure :</p>
                            <input type="time" #heure>
                        </div>
                        <div>
                            <p>Description :</p>
                            <textarea type="text"cols="50" rows="5" maxlength="150"
                                        placeholder="Veuillez saisir la description de votre évènement"
                                        required #description></textarea>
                        </div>
                    </mat-panel-description>
                    <button (click)="addEvent(titre.value, dates.value, heure.value, description.value)">Valider</button>
                </mat-expansion-panel>
            </mat-accordion>
            </div>

        <!-- <div>
            <button mat-raised-button color="primary">Creer un évènement</button>
        </div> -->
        <div class="centerContainer">
        <div class="containerEvent" *ngFor="let event of ListeEvent">
            <mat-card class="cardEvent">
                <mat-card-header>
                    <div mat-card-avatar class="imgProfil"></div>
                    <mat-card-title>PSEUDO CREATEUR</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <mat-card-title>{{event.title}}</mat-card-title>
                    <p>Date: {{event.date}}</p>
                    <p>Heure: {{event.heure}}</p>
                    <p>
                        {{event.contenu}}
                    </p>
                </mat-card-content>
                <mat-card-actions>
                    <button class="btnParticiper" mat-button>Participer</button>
                </mat-card-actions>
            </mat-card>
        </div>
        </div>
    </div>
    <!-- <div class="rightContainer">
        <p class="titleRight">Membre :</p>
        <ul>
            <div class="containerEvent" *ngFor="let commuanute of commu">
                <li>{{commuanute}}</li>
            </div>
        </ul>
    </div> -->
</div>

<ng-template #questions>
    <!-- <div class="centerContainerQuestion">
    <div class="containerEvent" *ngFor="let question of ListeQuestion">
        <mat-card class="cardEvent">
            <mat-card-header>
                <div mat-card-avatar class="imgProfil"></div>
                <mat-card-title>PSEUDO CREATEUR</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <p>
                {{question.contenu}}
                </p>
            </mat-card-content>
            <mat-card-actions mat-dialog-actions>
                <button class="btnParticiper" mat-button>Repondre</button>
            </mat-card-actions>
        </mat-card>
    </div>
</div>      -->

<div class="centerContainerQuestion">

    <div class="cardBtnQuestion">
    <mat-accordion>
        <mat-expansion-panel hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title>
                <div>
                    <p class="labelBtn">
                        Creer une question
                      </p>
                </div>
            </mat-panel-title>
          </mat-expansion-panel-header>
            <mat-panel-description class="questionLabel">
                <input class="questionCommu" matInput maxlength="200" placeholder="Ex. J'ai besoin d'aide pour .." #question>
                <mat-hint align="end" class="resteCaract">{{question.value.length}} / 256</mat-hint>
            </mat-panel-description>
            <button mat-raised-button (click)="addQuestion(question.value)">Valider</button>
        </mat-expansion-panel>
    </mat-accordion>
    </div>

    <div class="containerQuestion" *ngFor="let question of ListeQuestion">
    <div class="cardQuestion">
<mat-accordion>
    <mat-expansion-panel hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title>
            <div mat-card-avatar class="imgProfil"></div>
          <p class="pseudoLabel">
            PSEUDO
          </p>
        </mat-panel-title>
        <mat-panel-description class="questionLabel">
            {{question.contenu}}
        </mat-panel-description>
      </mat-expansion-panel-header>
      <div class="containerQuestion" *ngFor="let reponse of ListeReponse">
        <div *ngIf="reponse.idQuestion === question.id">
        <mat-panel-description class="questionLabel">
            <mat-panel-title>
                <div mat-card-avatar class="imgProfil"></div>
              <p class="pseudoLabel">
                PSEUDO
              </p>

            </mat-panel-title>
            {{reponse.contenu}}
        </mat-panel-description>
      </div>
    </div>
    <div>
        <input class="textAreaReponse" matInput maxlength="200" placeholder="Votre réponse" #reponse>
        <mat-hint align="end" class="resteCaract">{{reponse.value.length}} / 200</mat-hint>

        <!-- <textarea class="textAreaReponse"type="text" #reponse></textarea> -->
    </div>
    <button mat-raised-button (click)="addReponse(reponse.value,  question.id)">Répondre</button>
    </mat-expansion-panel>
  </mat-accordion>
</div>
</div>
</div>
</ng-template>
